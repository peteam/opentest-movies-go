package main

import(
    "fmt"
    "bytes"
    "net/http"
    "io/ioutil"
    
)

func process(){
    var jsonStr = []byte(`{ "Title": "Game of Thrones1", "Year": 2011, "Rated": "TV-MA", "Released": "17 Apr 2011", "Type": "Movies", "Runtime": 57, "Genre": "Action, Adventure, Drama, Fantasy, Romance", "Director": "N/A", "Writer": "David Benioff, D.B. Weiss", "Actors": "Peter Dinklage, Lena Headey, Emilia Clarke, Kit Harington", "Plot": "Nine noble families fight for control over the mythical lands of Westeros, while an ancient enemy returns after being dormant for thousands of years.", "Language": "English", "Country": "USA, UK", "Awards": "Won 1 Golden Globe. Another 273 wins & 454 nominations.", "Poster": "https://m.media-amazon.com/images/M/MV5BMjA5NzA5NjMwNl5BMl5BanBnXkFtZTgwNjg2OTk2NzM@._V1_SX300.jpg" }`)
    response, err := http.Post("http://opentest-movies-go.peteam-staging.opentest.run/AddMovie", "application/json", bytes.NewBuffer(jsonStr))
    if err != nil {
        fmt.Printf("The HTTP request failed with error %s\n", err)
    } else {
        data, _ := ioutil.ReadAll(response.Body)
        fmt.Println(string(data))
    }
}
// func main() {
//     process()
// }
